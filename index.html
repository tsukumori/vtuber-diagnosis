<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>VTuberタイプ診断（デモサイト）</title>
<style>
body {
  font-family: sans-serif;
  text-align: center;
  padding: 40px;
}
button {
  padding: 10px 16px;
  margin: 6px;
  font-size: 14px;
  min-width: 220px;
  cursor: pointer;
}
#question { font-size: 20px; margin-bottom: 20px; }
#result { font-size: 22px; font-weight: bold; margin-top: 20px; }
.switches {
  position: fixed;
  top: 10px;
  right: 10px;
  border: 1px solid #ccc;
  padding: 10px;
  background: #f9f9f9;
  font-size: 12px;
}
</style>
</head>
<body>

<h1>VTuberタイプ診断</h1>

<div class="switches">
  <label>
    <input type="checkbox" id="rainbowSwitch">
    🌈 虹色マイク確定
  </label>
</div>

<div id="inputArea">
  <p>
    活動名（必須）<br>
    <input id="nameInput">
  </p>

  <p>
    SNS（任意）<br>
    <input id="snsInput">
  </p>

  <button onclick="startDiagnosis()">診断スタート</button>
</div>

<div id="diagnosisArea" style="display:none;">
  <div id="question"></div>
  <div id="buttons"></div>
  <button onclick="goBack()">← 戻る</button>
</div>

<div id="resultArea" style="display:none;">
  <div id="result"></div>
  <div id="resultImage"></div>
  <button id="shareBtn">Xで共有</button><br>
  <button onclick="restart()">もう一度診断</button>
</div>

<script>
const resultList = [
  null,
  "みんなを連れていく冒険地図",
  "止まらないおしゃべりリップ",
  "ノリで撃つスピードガン",
  "一瞬で沸かすド派手クラッカー",
  "安定運用の砂時計",
  "話題無限の地球儀",
  "完璧主義のチェック腕時計",
  "思い出を挟む押し花の栞",
  "芯のある万年筆",
  "夢見がちなキラキラ万華鏡",
  "正直一直線の王道ソード",
  "かまってほしいうさ耳",
  "世界を組み立てる台本ノート",
  "夜にひらく日記帳",
  "冷静沈着の真面目さん知性メガネ",
  "ことばが透ける繊細ガラスペン",
  "流れに合わせる調律の天秤",
  "🌈 虹色マイク",
  "ふわふわ天使の羽",
  "沼らせ小悪魔の黒羽"
];

const resultKeyMap = {
  "0000":1,"0001":2,"0010":3,"0011":4,
  "0100":5,"0101":6,"0110":7,"0111":8,
  "1000":9,"1001":10,"1010":11,"1011":12,
  "1100":13,"1101":14,"1110":15,"1111":16
};

let userName = "";
let userSNS = "";
let scores = {A:0,B:0,C:0,D:0};
let current = 0;
let history = [];
let angelDevilChoice = null;

const questions = [
 { axis: "A", text: "配信の理想は？", choices: ["一人で黙々やる", "どちらでも", "誰かと一緒にやる"] },
 { axis: "A", text: "トラブルが起きたとき、どうする？", choices: ["まず一人で考える", "場合による", "すぐ誰かに相談"] },
 { axis: "A", text: "コラボ配信についてどう思う？", choices: ["正直あまり得意じゃない", "どちらとも言えない", "大好き／積極的"] },

 { axis: "B", text: "配信内容を決めるときは？", choices: ["数字や反応を重視", "半々くらい", "気分やノリ"] },
 { axis: "B", text: "配信後、アーカイブやデータを見る？", choices: ["かなり細かく見る", "たまに見る", "ほとんど見ない"] },
 { axis: "B", text: "伸びる配信に必要だと思う

